ScreenManager:
    Inicio:
    Login:
    Menu:
    UserManagement:
    ClientManagement:
    RegisterUser:

<Inicio>:
    name: 'inicio'
    MDFloatLayout:
        md_bg_color: app.theme_cls.primary_color

        MDLabel:
            text: "B e m - v i n d o !"
            font_size: "28sp"
            halign: 'center'
            pos_hint: {"center_x": .5, "center_y": .70}    
          
        MDIconButton:
            icon: "arrow-right-circle"
            user_font_size: "88sp"
            pos_hint: {"center_x": .5, "center_y": .12}      
            on_press: app.root.current = 'login'
                 
<Login>:
    name:'login'
    MDFloatLayout:
        
        MDIconButton:
            pos_hint: {'center_x': .5, 'center_y': .8}
            icon: 'account-circle'
            icon_size: '96sp'
            
        MDTextField:
            id: username
            hint_text: 'Username'
            pos_hint: {'center_x': .5, 'center_y': .6}
            size_hint_x: .80
            multiline: False
            write_tab: False

        MDTextField:
            id: password
            hint_text: 'Password'
            password: True
            icon_right: 'eye-off'
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint_x: .80
            multiline: False
            write_tab: False
        MDRoundFlatButton:
            text: 'Sign In'
            font_size: '16px'
            radius: 24, 24, 24, 24
            size_hint_y: .10
            size_hint_x: .7
            pos_hint: {'center_x': .5,'center_y': .3}
            halign: 'center'
            on_release:
                root.login()
                root.valida_login() 
                
        MDLabel:
            id: label_login
            text: ' '
            theme_text_color: 'Custom'
            font_size: '22px'
            halign: 'center'
            pos_hint: {'center_x': .5, 'center_y': .42}

<Menu>
    name: 'menu'

    MDBoxLayout:
        md_bg_color: '#B0C4DE'
        orientation:'vertical'
                      
        MDBoxLayout:
            size_hint_y:.25
            padding:dp(25)

            MDBoxLayout:
                MDLabel:                            
                    text:"Teste"
                    halign: "center"
                    font_size: "22sp"
                    pos_hint: {"center_x": .5, "center_y": .95}
                    id: label_menu
    MDGridLayout:
        size_hint_y:.55
        cols:2
        padding:[dp(15),dp(15),dp(15),dp(35)]
        spacing:dp(15)

        ElementCard:
            image:"imagens/target.png"
            text:"Gestão de Clientes"
            md_bg_color:'gray'
            on_release:
                app.root.transition.direction = 'left'
                app.root.current = 'gestao_cliente'
            
        ElementCard:
            image:"imagens/fornecedor.png"
            text:"Gestão de Fornecedor"
            md_bg_color:'gray'
            
            
        ElementCard:
            image:"imagens/box.png"
            text:"Gestão de Produto"
            md_bg_color: 'gray'
            

        ElementCard:
            image:"imagens/users.png"
            text:"Gestão de Usuário"
            disabled: False
            md_bg_color: 'gray'
            on_release:
                app.root.transition.direction = 'left'
                app.root.current = 'gestao_usuario'  

<ElementCard@MDCard>:
    md_bg_color: 120/255, 173/255, 173/255, 1
    padding:dp(10)
    spacing:dp(10)
    radius:dp(25)
    ripple_behavior: True
    image:''
    text:""
    items_count:""
    subtext:''
    orientation:'vertical'

    Image:
        source:root.image
    MDBoxLayout:
        orientation:'vertical'
        MDLabel:
            halign:"center"
            text:root.text
            font_size: "15sp"
        MDLabel:
            halign:"center"
            font_style:"Caption"
            text:root.subtext
        MDLabel:
            halign:"center"
            text:root.items_count

<UserManagement>:
    name: 'gestao_usuario'
    id: table_screen

    MDFloatLayout:
        orientation: "vertical"
        padding: 20
        md_bg_color: app.theme_cls.primary_light


    #==== Listas os Usuarios ===#

        MDTopAppBar:
            elevation: 1
            md_bg_color: 'green'
            pos_hint: {'center_x': .5, 'center_y': .98}

            MDLabel:
                text: 'LISTA DE USUÁRIOS'
                color: 'white'
                halign: 'center'
                pos_hint: {"center_x": .5, "center_y": .5}


        MDIconButton:
            icon: "home-circle"
            user_font_size: "68sp"
            pos_hint: {'center_x': .1, 'center_y': .96}
            on_release:
                app.root.current = 'menu'
                app.root.transition.direction = 'right'


        MDRaisedButton:
            text: "Novo Usuário"
            md_bg_color: "green"      
            pos_hint: {'center_x': .16, 'center_y': .10}
            on_release: root.novo_usuario()

        MDRaisedButton:
            text: "Editar Usuário"
            text_color: 'red'
            md_bg_color: "yellow"      
            pos_hint: {'center_x': .46, 'center_y': .10}
            on_release:
                root.reload_datatable()
                #root.close_data()
                #root.edit_user()
 
        MDRaisedButton:
            text: "Deletar Usuário"
            md_bg_color: "red"      
            pos_hint: {'center_x': .80, 'center_y': .10}
            on_release:
                table_screen.delete_user()


<RegisterUser>:
    orientation: "vertical"
    padding: "0dp"
    size_hint: .9, .9
    pos_hint: {"center_x": .5, "center_y": .5}

    MDFloatLayout:
        orientation: "vertical"
        md_bg_color:'azure'
        padding: "1dp"

        MDTopAppBar:
            id: toolbar
            elevation: 1
            pos_hint: {"center_x": .5, "center_y": .94}
            md_bg_color: 'green'

        MDLabel:
            text: 'NOVO USUÁRIO'
            color: 'white'
            halign: 'center'
            pos_hint: {"center_x": .5, "center_y": .94}

        MDIconButton:
            pos_hint: {'center_x': .5, 'center_y': .8}
            icon: 'account-edit'
            icon_size: '76sp'

        MDTextField:
            id: usuario
            hint_text: 'Usuário'
            pos_hint: {'center_x': .5, 'center_y': .6}
            size_hint_x: .80
            multiline: False
            write_tab: False

        MDTextField:
            id: email
            hint_text: 'E-mail'
            icon_right: 'email'
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint_x: .80
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: senha
            hint_text: 'Senha'
            icon_right: 'eye-off'
            password: True
            pos_hint: {'center_x': .5, 'center_y': .4}
            size_hint_x: .80
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: re_senha
            hint_text: 'Repetir Senha'
            icon_right: 'eye-off'
            password: True
            pos_hint: {'center_x': .5, 'center_y': .3}
            size_hint_x: .80
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDCheckbox:
            size_hint: None, None
            size: "48dp", "48dp"
            pos_hint: {'center_x': .2, 'center_y': .2}
            on_active: root.on_checkbox_active(*args)


        MDLabel:
            text: 'Administrador'
            color: 'gray'
            halign: 'right'
            pos_hint: {"center_x": .1, "center_y": .2}



        MDRaisedButton:
            text: "Cancelar"
            md_bg_color: "red"
            pos_hint: {'center_x': .3, 'center_y': .1}
            on_release:
                #root.classe_user_teste()
                root.cancelar()

        MDRaisedButton:
            text: "Salvar"
            md_bg_color: "green"
            pos_hint: {'center_x': .7, 'center_y': .1}
            on_release:
                root.get_usuario()
                root.limpar_text()
                

<EditUser>
    orientation: "vertical"
    padding: "10dp"
    size_hint: .9, .9
    pos_hint: {"center_x": .5, "center_y": .5}

    MDFloatLayout:
        orientation: "vertical"
        md_bg_color:'#D3D3D3'
        padding: "1dp"

        MDTopAppBar:
            id: toolbar
            elevation: 1
            title: "Editar Usuário"
            pos_hint: {"center_x": .5, "center_y": .94}
            md_bg_color: '#808080'

        MDRaisedButton:
            text: "Cancelar"
            text_color: 'black'
            md_bg_color: "white"
            pos_hint: {'center_x': .7, 'center_y': .1}
            on_release:
                root.cancelar()
                

        MDRaisedButton:
            text: "Salvar"
            md_bg_color: "blue"
            pos_hint: {'center_x': .9, 'center_y': .1}
            # on_release:
            #     root.get_usuario()
            #     root.limpar_text()

<ClientManagement>:
    name: 'gestao_cliente'
    MDFloatLayout:
        md_bg_color:"#696969"

        MDLabel:
            text: "Gestão de Clientes"
            font_size: "28sp"
            halign: 'center'
            pos_hint: {"center_x": .5, "center_y": .85}

        MDFillRoundFlatButton:
            text: "Cadastrar Cliente"
            font_size: "18sp"
            halign: 'center'
            size_hint_x: .80
            pos_hint: {"center_x": .5, "center_y": .60}
            on_press:
                root.cad_cliente()
    

        MDFillRoundFlatButton:
            text: "Editar Cliente"
            font_size: "18sp"
            halign: 'center'
            size_hint_x: .80
            pos_hint: {"center_x": .5, "center_y": .50}

        MDFillRoundFlatButton:
            text: "Deletar Cliente"
            font_size: "18sp"
            halign: 'center'
            size_hint_x: .80
            pos_hint: {"center_x": .5, "center_y": .40}            


        MDFillRoundFlatButton:
            text: "Exibir Cliente"
            font_size: "18sp"
            halign: 'center'
            size_hint_x: .80
            pos_hint: {"center_x": .5, "center_y": .30}            


        MDFillRoundFlatButton:
            text: "Listar Clientes"
            font_size: "18sp"
            halign: 'center'
            size_hint_x: .80
            pos_hint: {"center_x": .5, "center_y": .20}

          
        MDIconButton:
            icon: "arrow-left-circle"
            icon_size: "32sp"
            
            pos_hint: {"center_x": .5, "center_y": .10}
            on_release:
                root.manager.transition.direction = 'right'
                root.manager.current = 'menu'
    
<RegisterClient>:
    id: cadastro
    orientation: "vertical"
    padding: "0dp"
    size_hint: .9, .9
    pos_hint: {"center_x": .5, "center_y": .5}
    
    MDFloatLayout:
        orientation: "vertical"
        md_bg_color:'azure'
        padding: "1dp"

        MDTopAppBar:
            id: toolbar
            elevation: 1
            pos_hint: {"center_x": .5, "center_y": .94}

        MDLabel:
            text: 'NOVO CLIENTE'
            color: 'white'
            halign: 'center'
            pos_hint: {"center_x": .5, "center_y": .94}

        MDTextField:
            id: nome
            hint_text: 'Nome'
            pos_hint: {'center_x': .5, 'center_y': .8}
            size_hint_x: .80
            multiline: False
            write_tab: False

        MDTextField:
            id: cpf
            hint_text: 'CPF'
            pos_hint: {'center_x': .5, 'center_y': .7}
            size_hint_x: .80
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: email
            hint_text: 'E-mail'
            pos_hint: {'center_x': .3, 'center_y': .6}
            size_hint_x: .40
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: telefone
            hint_text: 'Telefone'
            pos_hint: {'center_x': .7, 'center_y': .6}
            size_hint_x: .40
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: cep
            hint_text: 'CEP'
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint_x: .80
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: cidade
            hint_text: 'Cidade'
            pos_hint: {'center_x': .3, 'center_y': .4}
            size_hint_x: .40
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: uf
            hint_text: 'UF'
            pos_hint: {'center_x': .7, 'center_y': .4}
            size_hint_x: .40
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: endereco
            hint_text: 'Endereço'
            pos_hint: {'center_x': .3, 'center_y': .3}
            size_hint_x: .40
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: numero
            hint_text: 'Número'
            pos_hint: {'center_x': .7, 'center_y': .3}
            size_hint_x: .40
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"

        MDTextField:
            id: bairro
            hint_text: 'Bairro'
            pos_hint: {'center_x': .5, 'center_y': .2}
            size_hint_x: .80
            multiline: False
            write_tab: False
            line_color_normal: "gray"
            hint_text_color_normal: "gray"


        MDRaisedButton:
            text: "Cancelar"
            md_bg_color: "red"
            pos_hint: {'center_x': .3, 'center_y': .1}
            on_release:
                root.fechar()

        MDRaisedButton:
            text: "Salvar"
            md_bg_color: "green"
            pos_hint: {'center_x': .7, 'center_y': .1}
            on_release:
                root.get_cliente()
